import { useAuth } from "@/contexts/auth"
import { auth } from "@/firebase/firebase"
import { signOut } from "firebase/auth"
import { Link, useNavigate } from "react-router-dom"


export default function Sidebar() {

  const { currentUser } = useAuth()
  const navigate = useNavigate()

  // Logout function
  const handleLogout = async () => {
      await signOut(auth)
      console.log(currentUser);
      navigate('/')  // Redirect to main page after logout
  }


  
  return (
    <>
                  {/*SIDE BAR*/}
            <div className='h-screen  w-[5%] xl:w-[4%] sm:px-8 hidden sm:flex flex-col border-r-2 items-center gap-8'>
            <Link to="/">
            {/* YOUR MAIN LOGO */}
            <svg width="40" height="40" viewBox="0 0 54 56" fill="none" xmlns="http://www.w3.org/2000/svg" className='mt-4'>
            <ellipse cx="27" cy="28" rx="27" ry="28" fill="black"/>
            <path d="M20.7695 38V20.5455H25.5082V34.1818H32.565V38H20.7695Z" fill="white"/>
            </svg>
            </Link>

            {/* VIEW ALL ACCOUNTS TAB */}
            <Link to="/home">
            <svg width="54" height="56" viewBox="0 0 54 56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_4_45)">
            <path d="M38.4285 12H15.5713C14.9392 12 14.4285 12.5107 14.4285 13.1429V42.8571C14.4285 43.4893 14.9392 44 15.5713 44H38.4285C39.0606 44 39.5713 43.4893 39.5713 42.8571V13.1429C39.5713 12.5107 39.0606 12 38.4285 12ZM16.9999 14.5714H36.9999V22H16.9999V14.5714ZM36.9999 31.7143H16.9999V24.2857H36.9999V31.7143ZM36.9999 41.4286H16.9999V34H36.9999V41.4286ZM19.5713 18.2857C19.5713 18.6646 19.7218 19.028 19.9897 19.2959C20.2577 19.5638 20.621 19.7143 20.9999 19.7143C21.3788 19.7143 21.7421 19.5638 22.01 19.2959C22.278 19.028 22.4285 18.6646 22.4285 18.2857C22.4285 17.9068 22.278 17.5435 22.01 17.2756C21.7421 17.0077 21.3788 16.8571 20.9999 16.8571C20.621 16.8571 20.2577 17.0077 19.9897 17.2756C19.7218 17.5435 19.5713 17.9068 19.5713 18.2857ZM19.5713 28C19.5713 28.3789 19.7218 28.7422 19.9897 29.0102C20.2577 29.2781 20.621 29.4286 20.9999 29.4286C21.3788 29.4286 21.7421 29.2781 22.01 29.0102C22.278 28.7422 22.4285 28.3789 22.4285 28C22.4285 27.6211 22.278 27.2578 22.01 26.9898C21.7421 26.7219 21.3788 26.5714 20.9999 26.5714C20.621 26.5714 20.2577 26.7219 19.9897 26.9898C19.7218 27.2578 19.5713 27.6211 19.5713 28ZM19.5713 37.7143C19.5713 38.0932 19.7218 38.4565 19.9897 38.7244C20.2577 38.9923 20.621 39.1429 20.9999 39.1429C21.3788 39.1429 21.7421 38.9923 22.01 38.7244C22.278 38.4565 22.4285 38.0932 22.4285 37.7143C22.4285 37.3354 22.278 36.972 22.01 36.7041C21.7421 36.4362 21.3788 36.2857 20.9999 36.2857C20.621 36.2857 20.2577 36.4362 19.9897 36.7041C19.7218 36.972 19.5713 37.3354 19.5713 37.7143Z" fill="#7A7A7A"/>
            </g>
            <defs>
            <clipPath id="clip0_4_45">
            <rect width="32" height="32" fill="white" transform="translate(11 12)"/>
            </clipPath>
            </defs>
            </svg>
            </Link>

            {/*VIEW ALL REVIWEWS*/}
            <Link to="/reviews">
            <svg width="54" height="56" viewBox="0 0 54 56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_4_50)">
            <path d="M29.1786 24.75C28.3536 24.75 27.7144 25.3893 27.7144 26.1786C27.7144 26.9679 28.3536 27.6071 29.1786 27.6071C29.9322 27.6071 30.5715 26.9679 30.5715 26.1786C30.5715 25.3893 29.9322 24.75 29.1786 24.75ZM19.1786 24.75C18.3536 24.75 17.7144 25.3893 17.7144 26.1786C17.7144 26.9679 18.3536 27.6071 19.1786 27.6071C19.9322 27.6071 20.5715 26.9679 20.5715 26.1786C20.5715 25.3893 19.9322 24.75 19.1786 24.75Z" fill="#7A7A7A"/>
            <path d="M40.6429 22.0357C38.9905 19.7612 36.6079 18.1223 33.8929 17.3928V17.3964C33.2822 16.7178 32.5929 16.0928 31.8214 15.5357C25.975 11.2857 17.7679 12.5821 13.5 18.4285C10.0607 23.1785 10.2072 29.5678 13.7143 34.1071L13.7429 38.8428C13.7429 38.9571 13.7607 39.0714 13.7964 39.1785C13.8414 39.3216 13.9141 39.4545 14.0104 39.5695C14.1067 39.6845 14.2247 39.7793 14.3577 39.8487C14.4908 39.918 14.6361 39.9604 14.7856 39.9735C14.935 39.9866 15.0855 39.9701 15.2286 39.9249L19.75 38.4999C20.9464 38.9249 22.1822 39.1678 23.4107 39.2357L23.3929 39.2499C26.575 41.5678 30.7464 42.2642 34.5714 40.9999L39.1107 42.4785C39.225 42.5142 39.3429 42.5357 39.4643 42.5357C40.0964 42.5357 40.6072 42.0249 40.6072 41.3928V36.6071C43.7536 32.3357 43.8357 26.4321 40.6429 22.0357ZM20.25 35.9642L19.8214 35.7857L16.2857 36.8928L16.25 33.1785L15.9643 32.8571C12.9429 29.1714 12.7429 23.8607 15.5714 19.9642C19.0143 15.2428 25.6143 14.1999 30.3214 17.6071C35.0429 21.0392 36.0893 27.6285 32.6786 32.3214C29.8179 36.2464 24.6964 37.6964 20.25 35.9642ZM38.2857 35.3571L38 35.7142L38.0357 39.4285L34.5357 38.2499L34.1072 38.4285C32.1072 39.1714 29.975 39.2321 28 38.6785L27.9929 38.6749C30.7073 37.8425 33.0783 36.1519 34.75 33.8571C37.4786 30.0964 37.9214 25.3714 36.3357 21.3428L36.3572 21.3571C37.1786 21.9464 37.9322 22.6821 38.5714 23.5714C41.1643 27.1285 41.0179 31.9714 38.2857 35.3571Z" fill="#7A7A7A"/>
            <path d="M24.1786 24.75C23.3536 24.75 22.7144 25.3893 22.7144 26.1786C22.7144 26.9679 23.3536 27.6071 24.1786 27.6071C24.9322 27.6071 25.5715 26.9679 25.5715 26.1786C25.5715 25.3893 24.9322 24.75 24.1786 24.75Z" fill="#7A7A7A"/>
            </g>
            <defs>
            <clipPath id="clip0_4_50">
            <rect width="32" height="32" fill="white" transform="translate(11 12)"/>
            </clipPath>
            </defs>
            </svg>
            </Link>

            {/* MANAGE COMPANY PROFILE */}
            <Link to="/company-profile">
            <svg width="54" height="56" viewBox="0 0 54 56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_13_6)">
            <path d="M39.4285 12H16.5713C15.9392 12 15.4285 12.5107 15.4285 13.1429V42.8571C15.4285 43.4893 15.9392 44 16.5713 44H39.4285C40.0606 44 40.5713 43.4893 40.5713 42.8571V13.1429C40.5713 12.5107 40.0606 12 39.4285 12ZM30.1428 14.5714H33.5713V22.0679L31.9106 20.8571L30.1428 22.1214V14.5714ZM37.9999 41.4286H17.9999V14.5714H27.9999V25.175C27.9999 25.2929 28.0356 25.4107 28.107 25.5071C28.1504 25.5684 28.2055 25.6205 28.2691 25.6604C28.3327 25.7003 28.4036 25.7271 28.4777 25.7394C28.5517 25.7517 28.6275 25.7492 28.7006 25.732C28.7737 25.7148 28.8426 25.6833 28.9035 25.6393L31.8963 23.5L34.8035 25.6214C34.8999 25.6929 35.0178 25.7321 35.1392 25.7321C35.4535 25.7321 35.7106 25.475 35.7106 25.1607V14.5714H37.9963V41.4286H37.9999Z" fill="#7A7A7A"/>
            </g>
            <defs>
            <clipPath id="clip0_13_6">
            <rect width="32" height="32" fill="white" transform="translate(12 12)"/>
            </clipPath>
            </defs>
            </svg>            
            </Link>



           


            <div className="mt-auto">

            {/* Logout */}
            <button onClick={()=>handleLogout()}>
            <svg width="54" height="56" viewBox="0 0 54 56" fill="none" xmlns="http://www.w3.org/2000/svg" className='mb-5'>
            <g clip-path="url(#clip0_22_8)">
            <path d="M39.7143 35.8572H37.2036C37.0322 35.8572 36.8715 35.9322 36.7643 36.0643C36.5143 36.3679 36.2465 36.6607 35.9643 36.9393C34.8104 38.0944 33.4435 39.015 31.9393 39.65C30.3809 40.3082 28.706 40.6459 27.0143 40.6429C25.3036 40.6429 23.6465 40.3072 22.0893 39.65C20.5851 39.015 19.2183 38.0944 18.0643 36.9393C16.9083 35.7881 15.9865 34.4236 15.35 32.9214C14.6893 31.3643 14.3572 29.7107 14.3572 28C14.3572 26.2893 14.6929 24.6357 15.35 23.0786C15.9857 21.575 16.9 20.2214 18.0643 19.0607C19.2286 17.9 20.5822 16.9857 22.0893 16.35C23.6465 15.6929 25.3036 15.3572 27.0143 15.3572C28.725 15.3572 30.3822 15.6893 31.9393 16.35C33.4465 16.9857 34.8 17.9 35.9643 19.0607C36.2465 19.3429 36.5107 19.6357 36.7643 19.9357C36.8715 20.0679 37.0357 20.1429 37.2036 20.1429H39.7143C39.9393 20.1429 40.0786 19.8929 39.9536 19.7036C37.2143 15.4464 32.4215 12.6286 26.975 12.6429C18.4179 12.6643 11.5572 19.6107 11.6429 28.1572C11.7286 36.5679 18.5786 43.3572 27.0143 43.3572C32.4465 43.3572 37.2179 40.5429 39.9536 36.2964C40.075 36.1072 39.9393 35.8572 39.7143 35.8572ZM42.8893 27.775L37.8215 23.775C37.6322 23.625 37.3572 23.7607 37.3572 24V26.7143H26.1429C25.9857 26.7143 25.8572 26.8429 25.8572 27V29C25.8572 29.1572 25.9857 29.2857 26.1429 29.2857H37.3572V32C37.3572 32.2393 37.6357 32.375 37.8215 32.225L42.8893 28.225C42.9235 28.1983 42.9511 28.1641 42.9701 28.1252C42.9891 28.0862 42.9989 28.0434 42.9989 28C42.9989 27.9567 42.9891 27.9139 42.9701 27.8749C42.9511 27.8359 42.9235 27.8017 42.8893 27.775Z" fill="#7A7A7A"/>
            </g>
            <defs>
            <clipPath id="clip0_22_8">
            <rect width="32" height="32" fill="white" transform="translate(11 12)"/>
            </clipPath>
            </defs>
            </svg>
            </button>

            </div>




            </div>
    </>
  )
}
